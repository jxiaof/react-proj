@import "tailwindcss";

@layer base {
  /* ç¦æ­¢å…¨å±€æ»šåŠ¨ - å…³é”®ï¼ */
  html,
  body,
  #root {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
    overflow: hidden;
  }

  :root {
    /* âœ… æµ…è‰²æ¨¡å¼ - æ”¹ä¸ºä¸“ä¸šè“é…è‰²ï¼ˆé»˜è®¤ï¼‰ */
    --background: 0 0% 100%;
    --foreground: 217 33% 20%;
    --card: 0 0% 100%;
    --card-foreground: 217 33% 20%;
    --primary: 217 91% 60%;
    --primary-foreground: 0 0% 100%;
    --secondary: 217 80% 88%;
    --secondary-foreground: 217 60% 25%;
    --muted: 217 40% 93%;
    --muted-foreground: 217 15% 45%;
    --accent: 217 91% 85%;
    --accent-foreground: 217 91% 35%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --input: 217 40% 96%;
    --border: 217 20% 85%;
    --ring: 217 91% 60%;
  }

  /* âœ… æš—è‰²æ¨¡å¼ - è“è‰²æš—è‰²é€‚é… */
  .dark {
    --background: 0 0% 8%;
    --foreground: 0 0% 98%;
    --card: 0 0% 12%;
    --card-foreground: 0 0% 98%;
    --primary: 217 91% 65%;
    --primary-foreground: 0 0% 100%;
    --secondary: 217 50% 35%;
    --secondary-foreground: 0 0% 100%;
    --muted: 217 30% 20%;
    --muted-foreground: 217 20% 65%;
    --accent: 217 91% 75%;
    --accent-foreground: 217 91% 25%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --input: 217 30% 20%;
    --border: 217 20% 25%;
    --ring: 217 91% 65%;
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
  }

  /* è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼ */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: hsl(var(--muted));
    border-radius: 4px;
    border: 2px solid transparent;
    background-clip: content-box;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground));
    background-clip: content-box;
  }

  /* è‡ªå®šä¹‰é˜´å½± - åœ¨æµ…è‰²å’Œæš—è‰²æ¨¡å¼ä¸‹éƒ½é€‚ç”¨ */
  :root {
    --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.08), 0 1px 2px 0 rgba(0, 0, 0, 0.04);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.08), 0 4px 6px -2px rgba(0, 0, 0, 0.04);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.08), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }

  .dark {
    --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
    --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.35), 0 1px 2px 0 rgba(0, 0, 0, 0.2);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.35), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.35), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.35), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
  }
}

@theme {
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
}

/* é¡µé¢çº§åŠ è½½åŠ¨ç”» - ä¸“ä¸šä¼˜åŒ–ç‰ˆ */
@layer utilities {
  /**
   * ğŸ¯ åŠ¨ç”»ä¼˜åŒ–ç­–ç•¥
   * - ä½¿ç”¨ææ–™è®¾è®¡ç¼“åŠ¨æ›²çº¿ï¼ˆæ ‡å‡†ã€å‡é€Ÿã€åŠ é€Ÿï¼‰
   * - åˆå§‹ opacity: 1ï¼ˆç¦æ­¢é—ªçƒï¼‰
   * - å¾®å¦™ä½ç§»ï¼ˆâ‰¤4pxï¼‰
   * - ç¬¦åˆç”¨æˆ·ä¹ æƒ¯çš„æ—¶é•¿ï¼ˆ200-400msï¼‰
   */

  /* ========== ç¼“åŠ¨æ›²çº¿å®šä¹‰ ========== */
  /* Material Design æ ‡å‡†ç¼“åŠ¨ - 90%çš„åœºæ™¯ */
  /* cubic-bezier(0.4, 0, 0.2, 1) = å¿«è¿›æ…¢å‡º */
  
  /* iOS é£æ ¼ç¼“åŠ¨ - å…¥åœºåŠ¨ç”» */
  /* cubic-bezier(0.25, 0.46, 0.45, 0.94) = è‡ªç„¶å¼¹è·³ */

  /* é¡µé¢åŠ è½½å…¥åœº */
  @keyframes pageEnter {
    from {
      opacity: 0;
      transform: translateY(4px);  /* è½»å¾®ä¸‹æ»‘ */
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* å†…å®¹å‘ä¸Šè¿›å…¥ï¼ˆå¡ç‰‡ã€åˆ—è¡¨é¡¹ï¼‰ */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(3px);  /* å‡å°‘åˆ° 3px - æ›´å¾®å¦™ */
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* å†…å®¹å‘ä¸‹è¿›å…¥ï¼ˆæ ‡é¢˜ã€å¤´éƒ¨ï¼‰ */
  @keyframes fadeInDown {
    from {
      opacity: 0;
      transform: translateY(-3px);  /* å¯¹ç§°è®¾è®¡ */
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* ç¼©æ”¾è¿›å…¥ï¼ˆæ¨¡æ€æ¡†ã€å¯¹è¯æ¡†ï¼‰ */
  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.92);  /* 92% â†’ 100% */
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  /* æ·¡å…¥ï¼ˆå›¾ç‰‡ã€èƒŒæ™¯ï¼‰ */
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  /* å·¦ä¾§æ»‘å…¥ï¼ˆä¾§è¾¹æ ï¼‰ */
  @keyframes slideInLeft {
    from {
      opacity: 0;
      transform: translateX(-12px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  /* å³ä¾§æ»‘å…¥ï¼ˆé€šçŸ¥ã€å·¥å…·æ ï¼‰ */
  @keyframes slideInRight {
    from {
      opacity: 0;
      transform: translateX(12px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  /* ========== åŠ¨ç”»åº”ç”¨ç±» ========== */

  /**
   * é¡µé¢æ•´ä½“å…¥åœº - å¿«é€Ÿæµç•…
   * ä½¿ç”¨åœºæ™¯ï¼šPageTransition åŒ…è£…çš„é¡µé¢
   * æ—¶é•¿ï¼š250msï¼ˆä¸“ä¸šé€Ÿåº¦ï¼‰
   * æ›²çº¿ï¼šMaterial Design æ ‡å‡†ï¼ˆå¿«è¿›æ…¢å‡ºï¼‰
   */
  .animate-pageEnter {
    animation: pageEnter 0.25s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  /**
   * å¡ç‰‡/å†…å®¹å‘ä¸Šè¿›å…¥ - é€šç”¨æ ¸å¿ƒåŠ¨ç”»
   * ä½¿ç”¨åœºæ™¯ï¼šCardã€åˆ—è¡¨é¡¹ã€å¯¹è¯æ¡†å†…å®¹
   * æ—¶é•¿ï¼š300ms
   * æ›²çº¿ï¼šiOS é£æ ¼ï¼ˆè‡ªç„¶æŸ”å’Œï¼‰
   * 
   * â­ é…åˆ animationDelay ä½¿ç”¨æ—¶ï¼š
   * - é¦–é¡¹ï¼š0-40msï¼ˆç«‹å³ï¼‰
   * - é—´éš”ï¼š60-80msï¼ˆçº§è”æ•ˆæœï¼‰
   * - æœ€å¤šå»¶è¿Ÿï¼š400-500msï¼ˆé¿å…è¿‡é•¿ï¼‰
   */
  .animate-fadeInUp {
    animation: fadeInUp 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  }

  /**
   * æ ‡é¢˜/å¤´éƒ¨å‘ä¸‹è¿›å…¥
   * ä½¿ç”¨åœºæ™¯ï¼šé¡µé¢æ ‡é¢˜ã€Section æ ‡é¢˜ã€è¡¨å¤´
   * ç‰¹ç‚¹ï¼šä¸ fadeInUp åå‘ï¼Œå½¢æˆå¯¹ç§°ç¾æ„Ÿ
   * æ—¶é•¿ï¼š300ms
   */
  .animate-fadeInDown {
    animation: fadeInDown 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  }

  /**
   * æ¨¡æ€æ¡†/å¯¹è¯æ¡†ç¼©æ”¾è¿›å…¥
   * ä½¿ç”¨åœºæ™¯ï¼šDialogã€Modalã€Popover
   * æ—¶é•¿ï¼š250msï¼ˆå¿«é€Ÿå“åº”ï¼‰
   * æ›²çº¿ï¼šåŠ é€Ÿç¼“åŠ¨ï¼ˆååº”çµæ•ï¼‰
   */
  .animate-scaleIn {
    animation: scaleIn 0.25s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  /**
   * æ·¡å…¥åŠ¨ç”» - å›¾ç‰‡ã€èƒŒæ™¯ã€è¦†ç›–å±‚
   * ä½¿ç”¨åœºæ™¯ï¼šå›¾ç‰‡åŠ è½½å®Œæˆã€èƒŒæ™¯åˆ‡æ¢ã€Backdrop
   * æ—¶é•¿ï¼š200msï¼ˆæœ€å¿«ï¼‰
   */
  .animate-fadeIn {
    animation: fadeIn 0.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  /**
   * å·¦ä¾§æ»‘å…¥ - ä¾§è¾¹æ 
   * ä½¿ç”¨åœºæ™¯ï¼šChatSidebarã€MobileNavï¼ˆä»å·¦è¿›å…¥ï¼‰
   * æ—¶é•¿ï¼š300ms
   */
  .animate-slideInLeft {
    animation: slideInLeft 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  }

  /**
   * å³ä¾§æ»‘å…¥ - é€šçŸ¥ã€ä¸‹æ‹‰èœå•
   * ä½¿ç”¨åœºæ™¯ï¼šNotificationã€Dropdownï¼ˆä»å³è¿›å…¥ï¼‰
   * æ—¶é•¿ï¼š300ms
   */
  .animate-slideInRight {
    animation: slideInRight 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  }

  /* ========== å»¶è¿Ÿè¾…åŠ©ç±» ========== */
  /**
   * æ¨èå»¶è¿Ÿé…ç½®è¡¨ï¼š
   * 
   * | åœºæ™¯ | é¦–é¡¹ | é—´éš” | æœ€å¤§ | ç¤ºä¾‹ |
   * |------|------|------|------|------|
   * | é™æ€åˆ—è¡¨ | 0ms | 60ms | 400ms | å¡ç‰‡ç½‘æ ¼ |
   * | åŠ¨æ€åˆ—è¡¨ | 0ms | 40ms | 300ms | èŠå¤©æ¶ˆæ¯ |
   * | å¯¹è¯æ¡† | 80ms | 100ms | 400ms | è¡¨å•å­—æ®µ |
   * | é¡µé¢è½¬åœº | 0ms | 80ms | 800ms | å¤š Section |
   * 
   * ç¦ç”¨å»¶è¿Ÿçš„åœºæ™¯ï¼š
   * âœ… é¦–å±å…³é”®å†…å®¹ï¼ˆHeroã€Headerï¼‰
   * âœ… é¢‘ç¹äº¤äº’çš„å…ƒç´ ï¼ˆInputã€Buttonï¼‰
   * âœ… å°äº 200ms çš„å¿«é€Ÿåˆ—è¡¨åŠ è½½
   */

  @supports (animation-timeline: view()) {
    /**
     * æ»šåŠ¨è¿›å…¥åŠ¨ç”»ï¼ˆå¯é€‰ï¼Œéœ€æµè§ˆå™¨æ”¯æŒï¼‰
     * ä½¿ç”¨åœºæ™¯ï¼šå½“å…ƒç´ è¿›å…¥è§†å£æ—¶è§¦å‘
     */
    .animate-onScroll {
      animation: fadeInUp 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
      animation-timeline: view();
      animation-range: entry 0% cover 30%;
    }
  }

  /* ========== å·¥å…·ç±» ========== */
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  .safe-area-pb {
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }

  .safe-area-pl {
    padding-left: max(1rem, env(safe-area-inset-left));
  }

  .safe-area-pr {
    padding-right: max(1rem, env(safe-area-inset-right));
  }

  /* é™é€Ÿæ•ˆæœ - ç”¨äºå¼ºè°ƒé‡è¦æ“ä½œ */
  .motion-reduce {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  /* ç”¨æˆ·åå¥½å°Šé‡ */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

/* ========== ä½¿ç”¨æŒ‡å— ========== */
/*
ğŸ¯ å¿«é€Ÿå‚è€ƒï¼š

1ï¸âƒ£  é¡µé¢é¦–å±å†…å®¹ï¼ˆHeroã€æ ‡é¢˜ï¼‰
   âŒ ä¸è¦æ·»åŠ  animationDelay
   âœ… ç±»åï¼šanimate-fadeInDownï¼ˆç«‹å³æ˜¾ç¤ºï¼‰
   âœ… æ ·å¼ï¼š<h1 className="animate-fadeInDown">æ ‡é¢˜</h1>

2ï¸âƒ£  å¡ç‰‡ç½‘æ ¼ï¼ˆFeaturesã€Statsï¼‰
   âœ… é¦–é¡¹å»¶è¿Ÿ 0-40ms
   âœ… é—´éš” 60-80ms
   âœ… ç±»åï¼šanimate-fadeInUp + style={{ animationDelay: '${idx * 80}ms' }}

3ï¸âƒ£  å¯¹è¯æ¡†è¡¨å•
   âœ… æ•´ä½“å®¹å™¨ï¼šæ— å»¶è¿Ÿ + animate-scaleIn
   âœ… è¡¨å•å­—æ®µï¼šå»¶è¿Ÿ 100-150ms + animate-fadeInUp
   âœ… æŒ‰é’®ï¼šå»¶è¿Ÿ 300-350ms + animate-slideInRight

4ï¸âƒ£  èŠå¤©æ¶ˆæ¯åˆ—è¡¨
   âœ… æ¶ˆæ¯æ°”æ³¡ï¼šanimate-fadeInUp
   âœ… é—´éš”ï¼š30-40msï¼ˆå¿«é€Ÿçº§è”ï¼‰
   âœ… è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨

5ï¸âƒ£  ä¾§è¾¹æ å±•å¼€
   âœ… ä¾§è¾¹æ æœ¬èº«ï¼šanimate-slideInLeft + 300ms
   âœ… èœå•é¡¹ï¼šanimate-fadeInUp + 60ms é—´éš”

ç¼“åŠ¨æ›²çº¿é€ŸæŸ¥è¡¨ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åœºæ™¯                â”‚ ç¼“åŠ¨æ›²çº¿                 â”‚ æ—¶é•¿    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å…¥åœºï¼ˆé€šç”¨ï¼‰        â”‚ cubic-bezier(0.25, 0.46, 0.45, 0.94) â”‚ 300ms  â”‚
â”‚ é¡µé¢è½¬æ¢ï¼ˆå¿«ï¼‰      â”‚ cubic-bezier(0.4, 0, 0.2, 1)       â”‚ 250ms  â”‚
â”‚ å¼¹è·³æ•ˆæœï¼ˆå¤¸å¼ ï¼‰    â”‚ cubic-bezier(0.34, 1.56, 0.64, 1)  â”‚ 250ms  â”‚
â”‚ æ·¡å…¥ï¼ˆèƒŒæ™¯ï¼‰        â”‚ cubic-bezier(0.4, 0, 0.2, 1)       â”‚ 200ms  â”‚
â”‚ åˆ—è¡¨çº§è”ï¼ˆç¼“ï¼‰      â”‚ cubic-bezier(0.25, 0.46, 0.45, 0.94) â”‚ 300ms  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
*/
